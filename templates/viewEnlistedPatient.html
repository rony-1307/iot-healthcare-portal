<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Based Health Monitoring System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/style_index.css">
</head>

<body>
  <header>
    <div class="container-xxl">
        <div class="col-6">
            <div class="date-time">
                Date: <span id="currentDate"></span><br>
                Time: <span id="currentTime"></span>
            </div>
        </div>
        <div class="col-6">
            <div class="title">IoT Based Health Monitoring System</div>
        </div>
    </div>
  </header>

  <main>
    <div class="container">
      <h2 style="color: #003366; text-align: center; font-family: 'Arial', sans-serif; font-size: 36px; font-weight: bold; text-decoration: underline;">
        All Enlisted Patient
      </h2>
      <br>
      <a href="/" class="btn btn-primary">Back</a>
      <br><br>
      <table class="table table-bordered">
          <thead>
              <tr>
                  <th>Patient ID</th>
                  <th>Name</th>
                  <th>Gender</th>
                  <th>Age</th>
                  <th>Phone Number</th>
                  <th>View Report</th>
              </tr>
          </thead>
          <tbody>
              {% for patient in patients %}
              <tr>
                  <td>{{ patient.pId }}</td>
                  <td>{{ patient.name }}</td>
                  <td>{{ patient.gender }}</td>
                  <td>{{ patient.dob }}</td>
                  <td>{{ patient.phoneNo }}</td>
                  <td>
                    <a href="/patientReportsRecord/{{ patient.pId }}" class="btn btn-info" target="_blank">View Full Details</a>
                </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
      <br><br>
  </div>
  </main>
  <footer>
    &copy; 2024 IoT Based Health Monitoring System
  </footer>
</body>
<script>
  function updateDateTime() {
      const now = new Date();
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById('currentDate').innerText = now.toLocaleDateString(undefined, options);
      document.getElementById('currentTime').innerText = now.toLocaleTimeString();
  }

  // Update date and time on page load
  updateDateTime();

  // Update every second
  setInterval(updateDateTime, 1000);
</script>
</html>